<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>NeighborRank</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<script type="text/x-handlebars">
    {{outlet}}
</script>

<div class="title-info">
    <h1>NeighborRank</h1>

    <h2 class="subtitle">
        An analysis of hybrid ranking schemes
    </h2>

    <h2 class="authors">
        COS 435 Final Project <br/>
        Rafi Shamim and Ajay Roopakalu
    </h2>

    <hr class="divider"/>
</div>

<script type="text/x-handlebars" data-template-name="index">

    <div class="search-box">
        <div class="input-append">
            {{view App.Searchbox valueBinding="query" class="span6"}}
            <button class="btn btn-inverse" type="button"
            {{action "doSearch"}}>Search</button>
        </div>
    </div>


    {{#if App.FullLuceneResultsController}}
    <div class="alert alert-info instructions">
        Select the results below which you find relevant:
    </div>

    <div class="search-results">
        <table class="table table-hover">
            {{#each item in App.FullLuceneResultsController}}
            <tr class="result">
                <td class="select">
                    {{view view.resultCheckbox
                    contentBinding="item"
                    controllerBinding="this"
                    checkedBinding="index.view.checked"}}
                </td>
                <td>
                    <p class="result-title">{{item.title}}</p>

                    <p class="result-summary">{{item.summary}}</p>

                </td>
            </tr>
            {{/each}}
        </table>
        <div style="margin:auto; text-align:right">
            <button class="btn btn-medium btn-inverse" type="button"
            {{action "doComparison"}}>
            Compare with NN-Descent &rarr;
            </button>
        </div>
    </div>
    {{/if}}

    {{#if App.comparing}}
    <div class="alert alert-info instructions" style="margin-top: 20px">
        K is the number of nearest neighbors expanded in each vector model result.
    </div>

    <div class="search-comparison-results">
        <div class="table-comparison">
        <div class=table-comparison-header>K={{App.FullLuceneResultsController.K}}</div>
        <table class="table">
            {{#each item in App.FullLuceneResultsController}}
            <tr {{bindAttr class=":result item.relevanceClass"}}>
            <td>
                <p class="result-title">{{item.title}}</p>
                <p class="result-summary">{{item.summary}}</p>
            </td>
            </tr>
            {{/each}}
        </table>
        </div>

        <div class="table-comparison">
        <div class=table-comparison-header>K={{App.MixedResultsController.K}}</div>
        <table class="table">
            {{#each item in App.MixedResultsController}}
            <tr {{bindAttr class=":result item.relevanceClass"}}>
            <td>
                <p class="result-title">{{item.title}}</p>
                <p class="result-summary">{{item.summary}}</p>
            </td>
            </tr>
            {{/each}}
        </table>
        </div>

        <div class="table-comparison">
        <div class=table-comparison-header>K={{App.FullNNResultsController.K}}</div>
        <table class="table">
            {{#each item in App.FullNNResultsController}}
            <tr {{bindAttr class=":result item.relevanceClass"}}>
            <td>
                <p class="result-title">{{item.title}}</p>
                <p class="result-summary">{{item.summary}}</p>
            </td>
            </tr>
            {{/each}}
        </table>
        </div>
    </div>
    {{/if}}

</script>


<script src="js/libs/jquery-1.9.1.js"></script>
<script src="js/libs/handlebars-1.0.0-rc.3.js"></script>
<script src="js/libs/ember-1.0.0-rc.2.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/app.js"></script>

</body>
</html>
